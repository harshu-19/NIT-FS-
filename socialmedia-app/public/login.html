<!DOCTYPE html>
<html><head><title>Login</title></head>
<body>
<h2>Login</h2>
<form id="log">
<input id="username" placeholder="Username" required><br>
<input type="password" id="password" placeholder="Password" required><br>
<button>Login</button></form>
<p id="msg"></p>
<a href="register.html">Register</a>
<script>
document.getElementById('log').onsubmit=async e=>{
e.preventDefault();
const u=document.getElementById('username').value;
const p=document.getElementById('password').value;
const r=await fetch('/api/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username:u,password:p})});
const d=await r.json(); if(d.success) location='feed.html';
else document.getElementById('msg').innerText=d.message;
};
</script>
</body></html>
